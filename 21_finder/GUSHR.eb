# author: Denis Kristak (INUITS)
easyblock = "Tarball"

name = "GUSHR"
version = "2020-09-28"
local_commit = "ee26d5c"

homepage = "https://github.com/Gaius-Augustus/GUSHR"
description = """
Assembly-free construction of UTRs from short read RNA-Seq data on the basis of coding sequence annotation.
"""

toolchain = {"name": "foss", "version": "2021b"}

source_urls = ["https://github.com/Gaius-Augustus/GUSHR/archive"]
sources = [
    {
        "download_filename": "%s.tar.gz" % local_commit,
        "filename": SOURCE_TAR_GZ,
    }
]
checksums = ['81fd9c372a45af1688c2954932f94efc4c637144f874e16be41d1b18936a5303']

dependencies = [
    ('Java', '11', '', SYSTEM),
    ("AUGUSTUS", "3.4.0"),
    ("GLib", "2.69.1"),
]

sanity_check_paths = {
    "files": ["gushr.py"],
    "dirs": [],
}
sanity_check_commands = [
    """cd example; ./download_rnaseq.sh ; cd - ;
    ./gushr.py -t example/augustus.gtf -b example/RNAseq.bam -g example/genome.fa -o utrs"""
]

moduleclass = "bio"
