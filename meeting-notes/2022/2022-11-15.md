## Sync meeting 2022-11-15 (13:30 CET)

- attending: Sam, Maxime, Mag, Robin, Steven, Alex, Balazs
- not attending: 

### Agenda

- OK to stick to monthly meetings?
    - no objections
- IJulia (https://github.com/vscentrum/vsc-software-stack/issues/45)
    - new JuliaPackage generic easyblock merged
    - IJulia easyconfig also merged
    - Alex: unclear what the impact of install Julia itself with a non-system toolchain will be on 'jll' Julia packages which are wrappers around pre-built libraries
        - for example https://github.com/JuliaBinaryWrappers/ZeroMQ_jll.jl
    - users can still overrule centrally installed Julia package via $JULIA_DEPOT_PATH
- COOLFluiD (https://otrsdict.ugent.be/otrs/index.pl?Action=AgentTicketZoom;TicketID=88366)
    - ideally Steven gives on overview of the work he has done here
    - initial (user) installation on top of foss/2020a was problematic
        - produced wrong results, and eventually crashed hard (with segfaults)
        - problems disappeared when using foss/2021a
            - we should check if similar problems occur on Genius with foss/2020a
        - over 2x speedup on Genius when using foss/2021a instead of foss/2018a
- 2022b update of common toolchains
    - candidates available
        - https://github.com/easybuilders/easybuild-easyconfigs/blob/develop/easybuild/easyconfigs/i/intel/intel-2022.09.eb
        - https://github.com/easybuilders/easybuild-easyconfigs/blob/develop/easybuild/easyconfigs/f/foss/foss-2022.10.eb
    - overview:
        - foss/2022.10
            - GCC 12.2.0 + binutils 2.39 (latest)
                - GCC 12 automatically enables -free-vectorize
            - UCX 1.13.1 + libfabric 1.16.1 + OpenMPI v4.1.4 (latest) - same as in foss/2022a
            - FlexiBLAS 3.2.1 w/ OpenBLAS 0.3.21 as default backend + BLIS 0.9.0  (latest)
            - FFTW 3.3.10 (latest) - same as in foss/2022a
            - ScaLAPACK 2.2.0 (latest)
        - intel/2022.09
            - base: GCC 12.2.0 + binutils 2.39
            - Intel C/C++/Fortran compilers 2022.2.0 (classic + oneAPI)
                - should be updated to 2022.2.1 (released 2 Nov'22)
            - Intel MPI 2021.7.0 (latest)
                - should be updated to 2021.7.1 (released 2 Nov'22)
            - Intel MKL 2022.2.0 (latest)
                - should be updated to 2022.2.1 (released 2 Nov'22)
            - intention is to use C/C++ oneAPI compilers by default
                - opt-out using 'one_api_c_cxx': 'False' in toolchainopts
                - to be implemented, currently only 'oneapi' toolchain option supported (disabled by default)
    - 2022b common toolchains will be included with next EasyBuild release (v4.7.0)
- Balazs: OpenFOAM 7 with foss/2019b sometimes crashed with `btl_openib_component.c:3644:handle_wc REMOTE ACCESS ERROR`
    - should be able to avoid this using a newer toolchain version (which includes UCX)
    - building OpenFOAM 7 with a more recent toolchain is not a smooth ride though...
    - https://otrsdict.ugent.be/otrs/index.pl?Action=AgentTicketZoom;TicketID=100613
- easyconfigs using an ancient toolchains (GCC < 8.0 and foss/intel < 2019a) will be archived, see also https://docs.easybuild.io/en/latest/Deprecated-easyconfigs.html#deprecated-toolchains
- segfault in FlexiBLAS (https://github.com/easybuilders/easybuild-easyconfigs/issues/16387)
    - fixes with patch in OpenBLAS to work around it: https://github.com/easybuilders/easybuild-easyconfigs/pull/16510
        - may have some performance impact, but should be minimal (and is better than crashes)
        - only affects BLAS level 1 routines
    - see also compiler bug: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=107451
- Sam: using bwrap wrapper for EasyBuild to be able to do "in place" updates for software that needs to be rebuilt
    - see for example recent fixes for GCCcore + OpenBLAS
    - see https://github.com/easybuilders/easybuild-framework/issues/4110
    - upstream: https://github.com/containers/bubblewrap
